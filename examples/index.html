<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Examples - PolaronMobility.jl Documentation</title>
    <link href="../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/bootstrap-3.3.7.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Loading the Module", url: "#_top", children: [
          ]},
          {title: "\u03b1/alpha parameter", url: "#alpha-parameter", children: [
          ]},
          {title: "Feynman athermal polaron", url: "#feynman-athermal-polaron", children: [
          ]},
          {title: "Single temperature phonon properties", url: "#single-temperature-phonon-properties", children: [
          ]},
          {title: "Hellwarth's multi-mode scheme", url: "#hellwarths-multi-mode-scheme", children: [
          ]},
          {title: "Temperature-dependent behaviour", url: "#temperature-dependent-behaviour", children: [
          ]},
          {title: "Plotting", url: "#plotting", children: [
          ]},
          {title: "Built in plotting", url: "#built-in-plotting", children: [
          ]},
          {title: "Further examples", url: "#further-examples", children: [
          ]},
        ];

    </script>
    <script src="../js/base.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
      <script src="../assets/mathjaxhelper.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../functions/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../functions/" class="btn btn-xs btn-link">
        Functions provided
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../scientific_discussion/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../scientific_discussion/" class="btn btn-xs btn-link">
        Scientific discussion
      </a>
    </div>
    
  </div>

    

    <p>Perhaps the easiest way to understand the code is to see how it can be used for science.  As an example system, we are going to look at some of the basic polaron properties of methylammonium lead-iodide perovskite.</p>
<p>The 'Feynman' units used internally set the LO phonon reduced frequency omega=1, hbar=1 and mass-of-electron=1. </p>
<p><a id='Loading-the-Module-1'></a></p>
<h2 id="loading-the-module">Loading the Module</h2>
<pre><code class="julia">using PolaronMobility 
</code></pre>

<p>If you are running the module from outside the Julia package directory (i.e. you have cloned the repository elsewhere to more easily work on the codes), you can supplement the <code>LOAD_PATH</code>.</p>
<pre><code class="julia">push!(LOAD_PATH,&quot;../src/&quot;) # load module from local directory
</code></pre>

<p><a id='α/alpha-parameter-1'></a></p>
<h2 id="alpha-parameter">α/alpha parameter</h2>
<p>The Frohlich electron-phonon coupling parameter can be characterised by a dimensionless coupling, alpha (<code>α</code>).  This gives the long-range ('non analytic') contribution from electrodynamic coupling into infrared active phonon modes.</p>
<p>
<script type="math/tex; mode=display">
\alpha = 
\frac{1}{2} \;
\frac{1}{4\pi\epsilon_0} \:
\left( \frac{1}{\epsilon_{optical}} - \frac{1}{\epsilon_{static}} \right ) \;
\frac{e^2}{\hbar \omega} \;
\sqrt{\frac{2m_e\omega}{\hbar}}
</script>
</p>
<p>This is provided as a convenience function (with correct units!).  Let us demonstrate by calculating α for CdTe, and compare it to literature values.</p>
<p>The call signature is: ϵ-optical, ϵ-static, phonon-frequency (Hz), effective-mass (in mass-of-electron units).</p>
<pre><code>α=frohlichalpha(7.1, 10.4, 5.08E12, 0.095)
println(&quot;CdTe  α=&quot;,α,&quot; Stone 0.39 / Devreese 0.29&quot;)
#@test α ≈ 0.3 atol=0.1
</code></pre>

<p>We get a value of <code>0.351</code>. </p>
<p><a id='Feynman-athermal-polaron-1'></a></p>
<h2 id="feynman-athermal-polaron">Feynman athermal polaron</h2>
<p>Tabulated by Schultz (Phys.Rev. 116, 1959. https://doi.org/10.1103/PhysRev.116.526)  are some numeric solutions to the athermal Feynman model. These values are often reproduced in the textbooks (e.g. Feynman &amp; Hibbs, Emended Edition, p. 319).  For instance, Schultz gets for <code>α=5</code>, <code>v=4.02</code>, <code>w=2.13</code> and <code>E=-5.4401</code>. </p>
<pre><code>julia&gt; v,w=feynmanvw(5.0)
(4.0343437574170915, 2.1400182510339403)
julia&gt; F(v,w,5.0)
-5.440144454909065
</code></pre>

<p><a id='Single-temperature-phonon-properties-1'></a></p>
<h2 id="single-temperature-phonon-properties">Single temperature phonon properties</h2>
<p>Let us calculate the room-temperature (300 K) character of the electron-polaron in methylammonium lead iodide perovskite (MAPI).  The parameters we use are as in <code>Frost2017PRB</code>.</p>
<p>The call signature to <code>polaronmobility</code> is:  Temperature range, ϵ-optical, ϵ-static, phonon-frequency (Hz), effective-mass (in mass-of-electron units). </p>
<p>For electrons in MAPI, these are ϵ=4.5/24.1, f=2.25 THz, me=0.12 electron masses. </p>
<pre><code>MAPIe=polaronmobility(300, 4.5, 24.1, 2.25E12, 0.12)
</code></pre>

<p>This will think for a bit (as Julia just-in-time compiles the required functions), and then spits out a considerable amount of information to <code>STDOUT</code>. </p>
<pre><code>Polaron mobility for system ε_Inf=4.5, ε_S=24.1, freq=2.25e12, 
                 effectivemass=0.12; with Trange 300 ...
Polaron mobility input parameters: ε_Inf=4.500000 ε_S=24.100000 freq=2.25e+12 α=2.393991 
Derived params in SI: ω =1.41372e+13 mb=1.09313e-31 
T: 300.000000 β: 2.41e+20 βred: 0.36 ħω  = 9.31 meV     Converged? : true
 Polaraon Parameters:  v= 19.8635  w= 16.9621  ||   M=0.371360  k=106.845717    
 Polaron frequency (SI) v= 4.5e+13 Hz  w= 3.8e+13 Hz
 Polaron size (rf), following Schultz1959. (s.d. of Gaussian polaron ψ )
     Schultz1959(2.4): rf= 0.528075 (int units) = 2.68001e-09 m [SI]
 Polaron Free Energy: A= -6.448918 B= 7.355627 C= 2.912080 F= -3.818788  = -35.534786 meV
 Polaron Mobility theories:
    μ(FHIP)= 0.082053 m^2/Vs    = 820.53 cm^2/Vs
    μ(Kadanoff,via Devreese2016)= 0.019690 m^2/Vs   = 196.90 cm^2/Vs
        Eqm. Phonon. pop. Nbar: 2.308150 
        Gamma0 = 5.42813e+13 rad/s = 8.63914e+12 /s  
        Tau=1/Gamma0 = 1.15752e-13 = 0.115752 ps
        Energy Loss = 1.28798e-08 J/s = 80.3893 meV/ps
    μ(Hellwarth1999)= 0.013642 m^2/Vs   = 136.42 cm^2/Vs
</code></pre>

<p>The output is a little ad-hoc, and specific values are perhaps best understood with comparison to the code, and to the references to the original papers!</p>
<p>Initially the polaron state is solved for variationally.   This involves varying <code>v</code> and <code>w</code> to minimise the miss-match between the trial (analytically solvable) polaron Hamiltonian action, and the true temperature-dependent free-energy (as specified by Osaka).  The method uses automatic differentiation to get gradients for the optimisation procedure. </p>
<p>'Textbook' expressions that predict polaron character and mobilities make assumptions about <code>v</code> and <code>w</code> (usually that either <code>v</code> is small, or <code>v=w</code>), and rather than use the finite-temperature free-energies of Osaka, use a more simple athermal polaron energy function.</p>
<p>Values that can be directly derived from these <code>v</code> and <code>w</code> variational parameters are then displayed.  This includes the phonon-drag mass renormalisation (<code>M</code>), the effective spring-constant of this drag (<code>k</code>), and the S.I. oscillation rates <code>v</code> and <code>w</code> in <code>Hz</code>.   The Schultz polaron size (rf) is outputted in various units.  The total polaron energy (as well as its decomposition into free-energy contributions) is also output (<code>A,B,C; and F</code>).  Essentially we are just using <code>Julia</code> as a glorified scientific calculator at this point, but with the units checked. </p>
<p>The polaron theories are constructed in reduced units. Generally this means that energy is in units of ħω, and frequencies in a unit of ω (of the input phonon frequency). For convenience, these are re-printed in SI or more standard units. </p>
<p>Beyond <code>Polaron Mobility theories:</code>, the code enters its final phase and uses the <code>v</code> and <code>w</code> parameters specifying the polaron as an input to theories of mobility, and so directly calculate a charge carrier mobility. </p>
<p>The asymptotic 'FHIP' mobility (low T) is calculated, this can be most easily related to textbook expressions that directly infer a mobility from an <code>α</code> parameter. It lacks optical phonon emission, and so shows pathological high temperature (kT &gt; ħω) behaviour. </p>
<p>The Kadanoff mobility (see the original paper) improves on this by assuming a Boltzmann process (independent scattering events).  From this theory we can also get an average scattering time, which we relate to the time-scale of the polaron interacting with the phonon cloud, and so to the rate of polaron cooling. </p>
<p>Finally the Hellwarth1999 scheme is used, which goes back to the original 1962 FHIP paper, and directly carries out the contour integral for the polaron impedance function. We improve on this slightly by explicitly calculating with <code>b</code>, though the approximation <code>b=0</code> makes very little difference for any so-far tested materials. </p>
<p>The data are also returned as a packed up in type of <code>struct Polaron</code> with fields of (<code>T, Kμ, Hμ, FHIPμ, k, M, A, B, C, F, Tau, v, w, βred, rfsi, rfsmallalpha, α, mb, ω</code>).</p>
<p><a id='Hellwarth's-multi-mode-scheme-1'></a></p>
<h2 id="hellwarths-multi-mode-scheme">Hellwarth's multi-mode scheme</h2>
<p>The above examples are slightly back-to-front - in that we've specified a single mode frequency, as if the material were a simple tetrahedral semiconductor with only one infrared active mode.  (The Linear Optical 'LO' phonon mode.)</p>
<p>In order to use these theories with more complex (many atoms in a unit cell) materials of technological relevance, we must first reduce all of these Infrared-active phonon responses to a single effective one. </p>
<p>For this we will use the averaging scheme described in Hellwarth1999.  Currently only the B scheme (athermal) is correctly implemented; a partial A scheme implementation is present.</p>
<p>Let's test it against the Hellwarth1999 literature data.  The argument to the function is a table of frequencies (cm^-1) and infrared activities (unit does not matter, as long as it is consistent). </p>
<pre><code class="julia"># Hellwarth et al. PRB 1999 Table II - BiSiO frequencies and activities
HellwarthII = [
    106.23 8.86
    160.51 9.50
    180.33 20.85
    206.69 10.05
    252.76 27.00
    369.64 61.78
    501.71 52.87
    553.60 86.18
    585.36 75.41
    607.29 98.15
    834.53 89.36
]

println(&quot;Attempting to reproduce Hellwarth et al.'s data.&quot;)
println(&quot;\nB scheme: (athermal)&quot;)
HellwarthBScheme(HellwarthII)
println(&quot;    ... should agree with values given in Hellwarth(60) W_e=196.9 cm^-1 and Hellwarth(61) Ω_e=500 cm^-1&quot;)
</code></pre>

<p>The output agrees to within three significant figures with the literatures values;</p>
<pre><code>Hellwarth (58) summation: 0.15505835776181887
Hellwarth (59) summation (total ir activity ^2): 38777.7725
Hellwarth (59) W_e (total ir activity ): 196.92072643579192
Hellwarth (61) Omega (freq): 500.08501275972833
</code></pre>

<p><a id='Temperature-dependent-behaviour-1'></a></p>
<h2 id="temperature-dependent-behaviour">Temperature-dependent behaviour</h2>
<p>Getting temperature-dependent behaviour is a matter of sending a temperature range to the <code>polaronmobility</code> function.</p>
<pre><code class="julia">MAPIe=polaronmobility(10:10:1000, 4.5, 24.1, 2.25E12, 0.12)
</code></pre>

<p><a id='Plotting-1'></a></p>
<h2 id="plotting">Plotting</h2>
<p>For publication, <code>savepolaron</code> outputs a column-delimited text file for post-production plotting (with gnuplot) or similar.</p>
<pre><code class="julia">savepolaron(&quot;MAPI-electron&quot;,MAPIe)
</code></pre>

<p>Example <code>gnuplot</code> scripts can be found in <a href="https://github.com/jarvist/PolaronMobility.jl/tree/master/examples/">Examples</a> and <a href="http://github.com/jarvist/PolaronMobility.jl/tree/master/HalidePerovskites/">HalidePerovskites</a>.</p>
<p><a id='Built-in-plotting-1'></a></p>
<h2 id="built-in-plotting">Built in plotting</h2>
<p>The convenience function <code>plotpolaron</code> generates (and saves) a number of <code>Plots.jl</code> figures of the temperature dependent behaviour.</p>
<p>It has been separated off into its own submodule (<code>PlotPolaron</code>), so that the <code>Plots.jl</code> dependency does not slow down loading of <code>PolaronMobility.jl</code>.</p>
<p>To use it, we therefore need to inform Julia where to find PlotPolaron. A suitable initialisation script was kindly supplied by @wkearn:</p>
<pre><code class="julia">using PolaronMobility, Plots
gr()
include(Pkg.dir(&quot;PolaronMobility&quot;,&quot;src&quot;,&quot;PlotPolaron.jl&quot;))
using PlotPolaron
</code></pre>

<p>As with savepolaron, the call signature is output-file-string and then the polaron object which you have calculated.</p>
<pre><code class="julia">plotpolaron(&quot;MAPI-electron&quot;,MAPIe)
</code></pre>

<p>This will attempt to make fairly sensible defaults, and plot a lot of different data of sufficient quality for talk slides.</p>
<p>Much for the functionality has been unrolled into the <a href="https://github.com/jarvist/PolaronMobility.jl/blob/master/JuliaBox-Example.ipynb">Jupyter Notebook example</a>, which should also be interactively-runnable from (https://juliabox.com). See the repository <a href="https://github.com/jarvist/PolaronMobility.jl/blob/master/README.md#juliabox">README.md</a> for the latest information.</p>
<p>Here is a figure showing typical temperature-dependent behaviour of the three-different polaron mobility approximations, for MAPI.</p>
<p><img alt="MAPI mobility" src="../assets/MAPI-mobility.png" /></p>
<p><a id='Further-examples-1'></a></p>
<h2 id="further-examples">Further examples</h2>
<p>More complete examples are provided in  <a href="https://github.com/jarvist/PolaronMobility.jl/tree/master/examples/">Examples</a> and <a href="http://github.com/jarvist/PolaronMobility.jl/tree/master/HalidePerovskites/">HalidePerovskites</a>.</p>

  <br>
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../functions/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../functions/" class="btn btn-xs btn-link">
        Functions provided
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../scientific_discussion/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../scientific_discussion/" class="btn btn-xs btn-link">
        Scientific discussion
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>