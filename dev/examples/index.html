<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Examples · PolaronMobility.jl documentation</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">PolaronMobility.jl documentation</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">PolaronMobility.jl</a></li><li class="is-active"><a class="tocitem" href>Examples</a><ul class="internal"><li><a class="tocitem" href="#Loading-the-Module"><span>Loading the Module</span></a></li><li><a class="tocitem" href="#α/alpha-parameter"><span>α/alpha parameter</span></a></li><li><a class="tocitem" href="#Feynman-athermal-polaron"><span>Feynman athermal polaron</span></a></li><li><a class="tocitem" href="#Single-temperature-phonon-properties"><span>Single temperature phonon properties</span></a></li><li><a class="tocitem" href="#Hellwarth&#39;s-multi-mode-scheme"><span>Hellwarth&#39;s multi-mode scheme</span></a></li><li><a class="tocitem" href="#Temperature-dependent-behaviour"><span>Temperature-dependent behaviour</span></a></li><li><a class="tocitem" href="#Plotting"><span>Plotting</span></a></li><li><a class="tocitem" href="#Built-in-plotting"><span>Built in plotting</span></a></li><li><a class="tocitem" href="#Further-examples"><span>Further examples</span></a></li></ul></li><li><a class="tocitem" href="../functions/">Functions</a></li><li><a class="tocitem" href="../scientific_discussion/">Scientific discussion</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Examples</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Examples</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/jarvist/PolaronMobility.jl/blob/master/docs/src/examples.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h1><p>Perhaps the easiest way to understand the code is to see how it can be used for science.  As an example system, we are going to look at some of the basic polaron properties of methylammonium lead-iodide perovskite.</p><p>The &#39;Feynman&#39; units used internally set the LO phonon reduced frequency omega=1, hbar=1 and mass-of-electron=1. </p><h2 id="Loading-the-Module"><a class="docs-heading-anchor" href="#Loading-the-Module">Loading the Module</a><a id="Loading-the-Module-1"></a><a class="docs-heading-anchor-permalink" href="#Loading-the-Module" title="Permalink"></a></h2><pre><code class="language-julia hljs">using PolaronMobility </code></pre><p>If you are running the module from outside the Julia package directory (i.e. you have cloned the repository elsewhere to more easily work on the codes), you can supplement the <code>LOAD_PATH</code>.</p><pre><code class="language-julia hljs">push!(LOAD_PATH,&quot;../src/&quot;) # load module from local directory</code></pre><h2 id="α/alpha-parameter"><a class="docs-heading-anchor" href="#α/alpha-parameter">α/alpha parameter</a><a id="α/alpha-parameter-1"></a><a class="docs-heading-anchor-permalink" href="#α/alpha-parameter" title="Permalink"></a></h2><p>The Frohlich electron-phonon coupling parameter can be characterised by a dimensionless coupling, alpha (<code>α</code>).  This gives the long-range (&#39;non analytic&#39;) contribution from electrodynamic coupling into infrared active phonon modes.</p><p class="math-container">\[\alpha = 
\frac{1}{2} \;
\frac{1}{4\pi\epsilon_0} \:
\left( \frac{1}{\epsilon_{optical}} - \frac{1}{\epsilon_{static}} \right ) \;
\frac{e^2}{\hbar \omega} \;
\sqrt{\frac{2m_e\omega}{\hbar}}\]</p><p>This is provided as a convenience function (with correct units!).  Let us demonstrate by calculating α for CdTe, and compare it to literature values.</p><p>The call signature is: ϵ-optical, ϵ-static, phonon-frequency (THz), effective-mass (in mass-of-electron units).</p><pre><code class="nohighlight hljs">α=frohlichalpha(7.1, 10.4, 5.08, 0.095)
println(&quot;CdTe  α=&quot;,α,&quot; Stone 0.39 / Devreese 0.29&quot;)
#@test α ≈ 0.3 atol=0.1</code></pre><p>We get a value of <code>0.351</code>. </p><h2 id="Feynman-athermal-polaron"><a class="docs-heading-anchor" href="#Feynman-athermal-polaron">Feynman athermal polaron</a><a id="Feynman-athermal-polaron-1"></a><a class="docs-heading-anchor-permalink" href="#Feynman-athermal-polaron" title="Permalink"></a></h2><p>Tabulated by Schultz (Phys.Rev. 116, 1959. https://doi.org/10.1103/PhysRev.116.526)  are some numeric solutions to the athermal Feynman model. These values are often reproduced in the textbooks (e.g. Feynman &amp; Hibbs, Emended Edition, p. 319).  For instance, Schultz gets for <code>α=5</code>, <code>v=4.02</code>, <code>w=2.13</code> and <code>E=-5.4401</code>. </p><pre><code class="nohighlight hljs">julia&gt; v,w=feynmanvw(5.0)
(4.0343437574170915, 2.1400182510339403)
julia&gt; F(v,w,5.0)
-5.440144454909065</code></pre><h2 id="Single-temperature-phonon-properties"><a class="docs-heading-anchor" href="#Single-temperature-phonon-properties">Single temperature phonon properties</a><a id="Single-temperature-phonon-properties-1"></a><a class="docs-heading-anchor-permalink" href="#Single-temperature-phonon-properties" title="Permalink"></a></h2><p>Let us calculate the room-temperature (300 K) character of the electron-polaron in methylammonium lead iodide perovskite (MAPI).  The parameters we use are as in <code>Frost2017PRB</code>.</p><p>The call signature to <code>polaronmobility</code> is:  Temperature range, ϵ-optical, ϵ-static, phonon-frequency (Hz), effective-mass (in mass-of-electron units). </p><p>For electrons in MAPI, these are ϵ=4.5/24.1, f=2.25 THz, me=0.12 electron masses. </p><pre><code class="nohighlight hljs">MAPIe=polaronmobility(300, 4.5, 24.1, 2.25, 0.12)</code></pre><p>This will think for a bit (as Julia just-in-time compiles the required functions), and then spits out a considerable amount of information to <code>STDOUT</code>. </p><pre><code class="nohighlight hljs">Polaron mobility for system ε_Inf=4.5, ε_S=24.1, freq=2.25e12, 
                 effectivemass=0.12; with Trange 300 ...
Polaron mobility input parameters: ε_Inf=4.500000 ε_S=24.100000 freq=2.25e+12 α=2.393991 
Derived params in SI: ω =1.41372e+13 mb=1.09313e-31 
T: 300.000000 β: 2.41e+20 βred: 0.36 ħω  = 9.31 meV		Converged? : true
 Polaraon Parameters:  v= 19.8635  w= 16.9621  ||   M=0.371360  k=106.845717	
 Polaron frequency (SI) v= 4.5e+13 Hz  w= 3.8e+13 Hz
 Polaron size (rf), following Schultz1959. (s.d. of Gaussian polaron ψ )
	 Schultz1959(2.4): rf= 0.528075 (int units) = 2.68001e-09 m [SI]
 Polaron Free Energy: A= -6.448918 B= 7.355627 C= 2.912080 F= -3.818788	 = -35.534786 meV
 Polaron Mobility theories:
	μ(FHIP)= 0.082053 m^2/Vs 	= 820.53 cm^2/Vs
	μ(Kadanoff,via Devreese2016)= 0.019690 m^2/Vs 	= 196.90 cm^2/Vs
		Eqm. Phonon. pop. Nbar: 2.308150 
		Gamma0 = 5.42813e+13 rad/s = 8.63914e+12 /s  
		Tau=1/Gamma0 = 1.15752e-13 = 0.115752 ps
		Energy Loss = 1.28798e-08 J/s = 80.3893 meV/ps
	μ(Hellwarth1999)= 0.013642 m^2/Vs 	= 136.42 cm^2/Vs</code></pre><p>The output is a little ad-hoc, and specific values are perhaps best understood with comparison to the code, and to the references to the original papers!</p><p>Initially the polaron state is solved for variationally.   This involves varying <code>v</code> and <code>w</code> to minimise the miss-match between the trial (analytically solvable) polaron Hamiltonian action, and the true temperature-dependent free-energy (as specified by Osaka).  The method uses automatic differentiation to get gradients for the optimisation procedure. </p><p>&#39;Textbook&#39; expressions that predict polaron character and mobilities make assumptions about <code>v</code> and <code>w</code> (usually that either <code>v</code> is small, or <code>v=w</code>), and rather than use the finite-temperature free-energies of Osaka, use a more simple athermal polaron energy function.</p><p>Values that can be directly derived from these <code>v</code> and <code>w</code> variational parameters are then displayed.  This includes the phonon-drag mass renormalisation (<code>M</code>), the effective spring-constant of this drag (<code>k</code>), and the S.I. oscillation rates <code>v</code> and <code>w</code> in <code>Hz</code>.   The Schultz polaron size (rf) is outputted in various units.  The total polaron energy (as well as its decomposition into free-energy contributions) is also output (<code>A,B,C; and F</code>).  Essentially we are just using <code>Julia</code> as a glorified scientific calculator at this point, but with the units checked. </p><p>The polaron theories are constructed in reduced units. Generally this means that energy is in units of ħω, and frequencies in a unit of ω (of the input phonon frequency). For convenience, these are re-printed in SI or more standard units. </p><p>Beyond <code>Polaron Mobility theories:</code>, the code enters its final phase and uses the <code>v</code> and <code>w</code> parameters specifying the polaron as an input to theories of mobility, and so directly calculate a charge carrier mobility. </p><p>The asymptotic &#39;FHIP&#39; mobility (low T) is calculated, this can be most easily related to textbook expressions that directly infer a mobility from an <code>α</code> parameter. It lacks optical phonon emission, and so shows pathological high temperature (kT &gt; ħω) behaviour. </p><p>The Kadanoff mobility (see the original paper) improves on this by assuming a Boltzmann process (independent scattering events).  From this theory we can also get an average scattering time, which we relate to the time-scale of the polaron interacting with the phonon cloud, and so to the rate of polaron cooling. </p><p>Finally the Hellwarth1999 scheme is used, which goes back to the original 1962 FHIP paper, and directly carries out the contour integral for the polaron impedance function. We improve on this slightly by explicitly calculating with <code>b</code>, though the approximation <code>b=0</code> makes very little difference for any so-far tested materials. </p><p>The data are also returned as a packed up in type of <code>struct Polaron</code> with fields of (<code>T, Kμ, Hμ, FHIPμ, k, M, A, B, C, F, Tau, v, w, βred, rfsi, rfsmallalpha, α, mb, ω</code>).</p><h2 id="Hellwarth&#39;s-multi-mode-scheme"><a class="docs-heading-anchor" href="#Hellwarth&#39;s-multi-mode-scheme">Hellwarth&#39;s multi-mode scheme</a><a id="Hellwarth&#39;s-multi-mode-scheme-1"></a><a class="docs-heading-anchor-permalink" href="#Hellwarth&#39;s-multi-mode-scheme" title="Permalink"></a></h2><p>The above examples are slightly back-to-front - in that we&#39;ve specified a single mode frequency, as if the material were a simple tetrahedral semiconductor with only one infrared active mode.  (The Linear Optical &#39;LO&#39; phonon mode.)</p><p>In order to use these theories with more complex (many atoms in a unit cell) materials of technological relevance, we must first reduce all of these Infrared-active phonon responses to a single effective one. </p><p>For this we will use the averaging scheme described in Hellwarth1999.  Currently only the B scheme (athermal) is correctly implemented; a partial A scheme implementation is present.</p><p>Let&#39;s test it against the Hellwarth1999 literature data.  The argument to the function is a table of frequencies (cm^-1) and infrared activities (unit does not matter, as long as it is consistent). </p><pre><code class="language-julia hljs"># Hellwarth et al. PRB 1999 Table II - BiSiO frequencies and activities
HellwarthII = [
    106.23 8.86
    160.51 9.50
    180.33 20.85
    206.69 10.05
    252.76 27.00
    369.64 61.78
    501.71 52.87
    553.60 86.18
    585.36 75.41
    607.29 98.15
    834.53 89.36
]

println(&quot;Attempting to reproduce Hellwarth et al.&#39;s data.&quot;)
println(&quot;\nB scheme: (athermal)&quot;)
HellwarthBScheme(HellwarthII)
println(&quot;    ... should agree with values given in Hellwarth(60) W_e=196.9 cm^-1 and Hellwarth(61) Ω_e=500 cm^-1&quot;)</code></pre><p>The output agrees to within three significant figures with the literatures values;</p><pre><code class="nohighlight hljs">Hellwarth (58) summation: 0.15505835776181887
Hellwarth (59) summation (total ir activity ^2): 38777.7725
Hellwarth (59) W_e (total ir activity ): 196.92072643579192
Hellwarth (61) Omega (freq): 500.08501275972833</code></pre><h2 id="Temperature-dependent-behaviour"><a class="docs-heading-anchor" href="#Temperature-dependent-behaviour">Temperature-dependent behaviour</a><a id="Temperature-dependent-behaviour-1"></a><a class="docs-heading-anchor-permalink" href="#Temperature-dependent-behaviour" title="Permalink"></a></h2><p>Getting temperature-dependent behaviour is a matter of sending a temperature range to the <code>polaronmobility</code> function.</p><pre><code class="language-julia hljs">MAPIe=polaronmobility(10:10:1000, 4.5, 24.1, 2.25, 0.12)</code></pre><h2 id="Plotting"><a class="docs-heading-anchor" href="#Plotting">Plotting</a><a id="Plotting-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting" title="Permalink"></a></h2><p>For publication, <code>savepolaron</code> outputs a column-delimited text file for post-production plotting (with gnuplot) or similar.</p><pre><code class="language-julia hljs">savepolaron(&quot;MAPI-electron&quot;,MAPIe)</code></pre><p>Example <code>gnuplot</code> scripts can be found in <a href="https://github.com/jarvist/PolaronMobility.jl/tree/master/examples/">Examples</a> and <a href="http://github.com/jarvist/PolaronMobility.jl/tree/master/HalidePerovskites/">HalidePerovskites</a>.</p><h2 id="Built-in-plotting"><a class="docs-heading-anchor" href="#Built-in-plotting">Built in plotting</a><a id="Built-in-plotting-1"></a><a class="docs-heading-anchor-permalink" href="#Built-in-plotting" title="Permalink"></a></h2><p>The convenience function <code>plotpolaron</code> generates (and saves) a number of <code>Plots.jl</code> figures of the temperature dependent behaviour.</p><p>It has been separated off into its own submodule (<code>PlotPolaron</code>), so that the <code>Plots.jl</code> dependency does not slow down loading of <code>PolaronMobility.jl</code>.</p><p>To use it, we therefore need to inform Julia where to find PlotPolaron. A suitable initialisation script was kindly supplied by @wkearn:</p><pre><code class="language-julia hljs">using PolaronMobility, Plots
gr()
include(Pkg.dir(&quot;PolaronMobility&quot;,&quot;src&quot;,&quot;PlotPolaron.jl&quot;))
using PlotPolaron</code></pre><p>As with savepolaron, the call signature is output-file-string and then the polaron object which you have calculated.</p><pre><code class="language-julia hljs">plotpolaron(&quot;MAPI-electron&quot;,MAPIe)</code></pre><p>This will attempt to make fairly sensible defaults, and plot a lot of different data of sufficient quality for talk slides.</p><p>Much for the functionality has been unrolled into the <a href="https://github.com/jarvist/PolaronMobility.jl/blob/master/JuliaBox-Example.ipynb">Jupyter Notebook example</a>, which should also be interactively-runnable from (https://juliabox.com). See the repository <a href="https://github.com/jarvist/PolaronMobility.jl/blob/master/README.md#juliabox">README.md</a> for the latest information.</p><p>Here is a figure showing typical temperature-dependent behaviour of the three-different polaron mobility approximations, for MAPI.</p><p><img src="../assets/MAPI-mobility.png" alt="MAPI mobility"/></p><h2 id="Further-examples"><a class="docs-heading-anchor" href="#Further-examples">Further examples</a><a id="Further-examples-1"></a><a class="docs-heading-anchor-permalink" href="#Further-examples" title="Permalink"></a></h2><p>More complete examples are provided in  <a href="https://github.com/jarvist/PolaronMobility.jl/tree/master/examples/">Examples</a> and <a href="http://github.com/jarvist/PolaronMobility.jl/tree/master/HalidePerovskites/">HalidePerovskites</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« PolaronMobility.jl</a><a class="docs-footer-nextpage" href="../functions/">Functions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Wednesday 7 September 2022 11:39">Wednesday 7 September 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
